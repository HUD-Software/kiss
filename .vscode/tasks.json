{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Setup KISS",
            "type": "shell",
            "command": "python",
            "args": [
                "${workspaceFolder}/setup.py"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
            "problemMatcher": []
        },
        {
            "label": "Build KISS",
            "type": "shell",
            "command": "python",
            "args": [
                "${workspaceFolder}/build.py"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
            "problemMatcher": []
        },
        {
            "label": "Run KISS",
            "type": "shell",
            "command": "${workspaceFolder}/build/bin/kiss.exe",
            "args": [
                "-d",
                "${workspaceFolder}/tests",
                "list"
            ],
            "dependsOn": "Build KISS",
            "group": "test",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
            "problemMatcher": []
        },
        {
            "label": "List projects",
            "type": "shell",
            "command": "python",
            "args": [
                "${workspaceFolder}/src/kiss.py",
                "-d",
                "${workspaceFolder}/tests",
                "list",
                "--recursive"
            ],
            "group": "test",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
        },
        {
            "label": "New project",
            "type": "shell",
            "command": "python",
            "args": [
                "${workspaceFolder}/src/kiss.py",
                "-d",
                "${workspaceFolder}/tests",
                "new",
                "${input:project_type}",
                "${input:project_name}",
                "--description",
                "${input:project_description}"
            ],
            "group": "test",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
        },
        {
            "label": "Generate project",
            "type": "shell",
            "command": "python",
            "args": [
                "${workspaceFolder}/src/kiss.py",
                "-d",
                "${workspaceFolder}/tests/${input:project_name}",
                "generate",
                "${input:generator}"
            ],
            "group": "test",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
        },
        {
            "label": "Build project",
            "type": "shell",
            "command": "python",
            "args": [
                "${workspaceFolder}/src/kiss.py",
                "-d",
                "${workspaceFolder}/tests/${input:project_name}",
                "build",
                "${input:generator}"
            ],
            "group": "test",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
        },
        {
            "label": "Run project",
            "type": "shell",
            "command": "python",
            "args": [
                "${workspaceFolder}/src/kiss.py",
                "-d",
                "${workspaceFolder}/tests/${input:project_name}",
                "run"
            ],
            "group": "test",
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
        }
    ],
    "inputs": [
        {
            "id": "generator",
            "type": "pickString",
            "description": "Type of generator to use",
            "options": [
                "cmake"
            ],
            "default": "cmake"
        },
        {
            "id": "project_type",
            "type": "pickString",
            "description": "Type of project to create",
            "options": [
                "bin",
                "lib",
                "dyn"
            ],
            "default": "bin"
        },
        {
            "id": "project_name",
            "type": "promptString",
            "description": "Name of the project",
        },
        {
            "id": "project_description",
            "type": "promptString",
            "description": "Description of the project",
            "default": "This is the new_project"
        },
    ]
}